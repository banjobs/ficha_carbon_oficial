<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ficha Carbon (FCHA) — Token de Carbono na Polygon</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    body {margin:0;font-family:'Arial',sans-serif;background:#004080;color:white;text-align:center;overflow-x:hidden;}
    header {padding:40px 20px;background:#00264d;}
    .logo {width:150px;height:150px;border-radius:50%;margin:20px auto;border:3px solid #ffffff;box-shadow:0 0 20px #ffffff;}
    h1 {font-size:64px;color:#ffffff;margin:20px 0;text-shadow:0 0 10px #99ccff;font-family:'Orbitron',sans-serif;letter-spacing:2px;}
    .hero p {font-size:24px;max-width:800px;margin:0 auto 40px;color:#d0e0ff;}
    h2 {font-family:'Orbitron',sans-serif;color:#ffffff;}
    .data-grid {display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;max-width:800px;margin:40px auto;}
    .data-card {background:rgba(255,255,255,0.1);padding:20px;border-radius:15px;border:1px solid #ffffff;}
    .data-card h3 {margin:0 0 10px;color:#ffffff;font-size:16px;}
    .data-card .num {font-size:32px;font-weight:bold;color:#99ccff;}
    .cta {margin:60px 0;}
    .cta button {background:#ffffff;color:#004080;padding:15px 40px;border:none;border-radius:30px;font-size:22px;cursor:pointer;margin:10px;transition:all .3s;}
    .cta button:hover {transform:scale(1.05);background:#99ccff;}
    .social {display:flex;justify-content:center;gap:20px;margin:40px 0;flex-wrap:wrap;}
    .social a {color:#ffffff;text-decoration:none;font-size:18px;}
    footer {padding:40px 20px;background:#00264d;font-size:14px;}
    footer a {color:#99ccff;}
    @media(max-width:768px){
      h1{font-size:48px;}
      .data-grid{grid-template-columns:1fr;}
      .social{flex-direction:column;}
    }
  </style>
</head>
<body>

  <header>
    <img src="https://files.catbox.moe/9v1q8r.webp" alt="Logo Ficha Carbon" class="logo" />
    <h1>Ficha Carbon (FCHA)</h1>
    <p class="hero">O token que aposenta créditos de carbono na Polygon — queime FCHA e salve o futuro do planeta</p>
  </header>

  <section style="max-width:800px;margin:40px auto;">
    <h2>Dados em Tempo Real do Ecossistema</h2>
    <div class="data-grid">
      <div class="data-card"><h3>CO₂ Aposentado</h3><div class="num" id="carbon">Carregando...</div></div>
      <div class="data-card"><h3>Preço Atual</h3><div class="num" id="price">Carregando...</div></div>
      <div class="data-card"><h3>Liquidez</h3><div class="num" id="liquidity">Carregando...</div></div>
      <div class="data-card"><h3>Volume 24h</h3><div class="num" id="volume24h">Carregando...</div></div>
      <div class="data-card"><h3>Market Cap</h3><div class="num" id="mc">Carregando...</div></div>
      <div class="data-card"><h3>Transações 24h</h3><div class="num" id="txs">Carregando...</div></div>
    </div>
  </section>

  <section class="cta">
    <button onclick="window.open('https://quickswap.exchange/#/add/0x338aeFA4F10aDd5A58D83F62a350520487C8e4b3/0x0000000000000000000000000000000000001010','_blank')">Adicionar LP + Bônus 10%</button>
    <button onclick="window.open('https://t.me/fichacarbon_polygon','_blank')">Junte-se ao Telegram</button>
  </section>

  <div class="social">
    <a href="https://t.me/fichacarbon_polygon" target="_blank">Telegram</a>
    <a href="https://twitter.com/fichacarbon" target="_blank">Twitter / X</a>
    <a href="https://dexscreener.com/polygon/0x143eec96cfec3a13be076752ef8925d6217d4f13" target="_blank">DexScreener</a>
    <a href="https://polygonscan.com/address/0x338aefa4f10add5a58d83f62a350520487c8e4b3" target="_blank">PolygonScan</a>
  </div>

  <footer>
    <p>Contrato: <a href="https://polygonscan.com/address/0x338aeFA4F10aDd5A58D83F62a350520487C8e4b3#code" target="_blank">0x338aeF...8e4b3</a></p>
    <p>Pool QuickSwap • Desenvolvido pela comunidade</p>
  </footer>

  <!-- Web3 + Dados em tempo real -->
  <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
  <script>
    const CONTRACT = "0x338aeFA4F10aDd5A58D83F62a350520487C8e4b3";
    const PAIR = "0x143eec96cfec3a13be076752ef8925d6217d4f13"; // seu pool FCHA/POL

    // CO₂ aposentado
    const ABI = [{"inputs":[],"name":"totalCarbonRetired","outputs":[{"type":"uint256"}],"stateMutability":"view","type":"function"}];
    async function updateCarbon() {
      try {
        const web3 = new Web3("https://polygon-rpc.com");
        const contract = new web3.eth.Contract(ABI, CONTRACT);
        const retired = await contract.methods.totalCarbonRetired().call();
        const tons = (retired / 1e18).toFixed(2);
        document.getElementById("carbon").innerText = tons + " t";
      } catch(e) {
        document.getElementById("carbon").innerText = "0 t";
      }
    }

    // DexScreener (direto da API oficial)
    async function updateDex() {
      try {
        const res = await fetch(`https://api.dexscreener.com/latest/dex/pairs/polygon/${PAIR}`);
        const json = await res.json();
        const p = json.pair;

        if (p && p.priceUsd) {
          document.getElementById("price").innerText = "$" + Number(p.priceUsd).toFixed(10);
          document.getElementById("liquidity").innerText = "$" + Number(p.liquidity?.usd || 0).toLocaleString();
          document.getElementById("volume24h").innerText = "$" + Number(p.volume?.h24 || 0).toLocaleString();
          document.getElementById("mc").innerText = "$" + Number(p.fdv || 0).toLocaleString();
          document.getElementById("txs").innerText = (p.txns?.h24?.buys + p.txns?.h24?.sells || 0);
        } else {
          // Pool novo → mensagem amigável
          document.getElementById("price").innerText = "Novo pool";
          document.getElementById("liquidity").innerText = "Ativando...";
          document.getElementById("volume24h").innerText = "0";
          document.getElementById("mc").innerText = "Ativando...";
          document.getElementById("txs").innerText = "0";
        }
      } catch(e) {
        console.log(e);
        document.getElementById("price").innerText = "Aguarde trades";
      }
    }

    // Atualiza tudo
    updateCarbon();
    updateDex();
    setInterval(() => { updateCarbon(); updateDex(); }, 15000); // a cada 15 segundos
  </script>
</body>
</html>
